<style>
  #shopify-section-{{ section.id }} {
    --section-background: {{ section.settings.background }}
  }
</style>

<section reveal-on-scroll> 

  {%- if section.settings.enable_container -%}
    <div class="container">
  {%- endif -%}

  {%- for block in section.blocks -%}
    {%- capture blockId -%}id="block-{{ block.id }}"{%- endcapture -%}


    {%- comment -%} CONTAINERS --- START  {%- endcomment -%}
    {%- if block.type == "container-start" -%}
        <style>
        #block-{{ section.id }} {
          background: {{ block.settings.background }}
        }
        </style>

        <div class="page-content page-content--{{ block.settings.page_width }}" {{ blockId }}>
    {%- endif -%}
    {%- comment -%} ------  {%- endcomment -%}
    {%- if block.type == "container-end" -%}
      </div>
    {%- endif -%}
    {%- comment -%} CONTAINERS --- END  {%- endcomment -%}


    {%- comment -%} IMAGES --- START  {%- endcomment -%}
    {% include "blocks--images" %}
    {%- comment -%} IMAGES --- END  {%- endcomment -%}


  {%- endfor -%}




  {%- if section.settings.enable_container -%}
    </div>
  {%- endif -%}

</section>


{% schema %}
  {
    "name": "Custom Layout",
    "class": "shopify-section--custom-layout",
    "disabled_on": {
      "groups": ["custom.overlay"]
    },
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_container",
        "label": "Enable Container?"
      }
    ],
    "blocks": [
      {
        "type": "note",
        "name": "Block Note",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Block Note",
            "info": "Only Admin Will See This.",
            "default": "--- IMAGE ---"
          }
        ]
      }, {
        "type": "container-start",
        "name": "Container - START",
        "settings": [
          {
            "type": "select",
            "id": "page_width",
            "label": "Page width",
            "options": [
              {
                "value": "small",
                "label": "Small"
              }, {
                "value": "medium",
                "label": "Medium"
              }, {
                "value": "large",
                "label": "Large"
              }
            ],
            "default": "medium"
          }, {
            "type": "color",
            "id": "background",
            "label": "Background",
            "default": "rgba(0,0,0,0)"
          }
        ]
      }, {
        "type": "container-end",
        "name": "Container - END",
        "settings": []
      },
      {
      "type": "image",
      "name": "Image",
      "settings": [
        {
        "type": "checkbox",
        "id": "reveal_on_scroll",
        "label": "Reveal on scroll",
        "info": "Show animation when section becomes visible.",
        "default": true
        },
        {
          "type": "checkbox",
          "id": "hide_mobile",
          "label": "Hide Mobile?"
        },
        {
          "type": "checkbox",
          "id": "hide_desktop",
          "label": "Hide Desktop?"
        },
        {
          "type": "header",
          "content": "Image"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "image_picker",
            "id": "mobile_image",
            "label": "Mobile image"
        },
        {
          "type": "header",
          "content": "Width"
        },
        {
           "type": "radio",
           "id": "width",
           "label": "Width",
           "default": "100",
           "options": [
              {
                "value": "25",
                "label": "25%"
              },
              {
                "value": "33",
                "label": "33%"
              },
              {
                "value": "50",
                "label": "50%"
              },
              {
                "value": "66",
                "label": "66%"
              },
              {
                "value": "75",
                "label": "75%"
              },
              {
                "value": "100",
                "label": "100%"
              }
           ]
        },
        {
           "type": "radio",
           "id": "width_mobile",
           "label": "Width (Mobile)",
           "options": [
              {
                "value": "25",
                "label": "25%"
              },
              {
                "value": "33",
                "label": "33%"
              },
              {
                "value": "50",
                "label": "50%"
              },
              {
                "value": "66",
                "label": "66%"
              },
              {
                "value": "75",
                "label": "75%"
              },
              {
                "value": "100",
                "label": "100%"
              }
           ]
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
    ],
    "presets": [
      {
        "name": "Custom Layout"
      }
    ]
  }
{% endschema %}