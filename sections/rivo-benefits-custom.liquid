{% comment %}
------------------------------------------------------------------------------
  Rivo – Perks / “What’s In It For You” Section
------------------------------------------------------------------------------
  • Flexible number of cards (blocks) – each with image + headline + body text  
  • Colour, radius, borders & spacing are all theme-editor configurable  
------------------------------------------------------------------------------
{% endcomment %}

<div
  id="rivo-perks-{{ section.id }}"
  class="rivo-content-wrapper"
  style="
    --card-radius: {{ section.settings.card_radius }}px;
    --gap: {{ section.settings.card_gap }}rem;
    --border-col: {{ section.settings.card_border_color }};
    background-color: {{ section.settings.bg_color }};
  "
>
  <div class="rivo-lp-content">
    {%- if section.settings.section_heading != blank -%}
      <h2
        class="rivo-lp-section-title"
        style="color: {{ section.settings.title_color }};"
      >
        {{ section.settings.section_heading }}
      </h2>
    {%- endif -%}

    <ul class="rivo-perks-list">
      {% for block in section.blocks %}
        <li
          class="rivo-perk-card"
        >
          <figure class="rivo-perk-img">
            {% if block.settings.perk_image != blank %}
              <img
                src="{{ block.settings.perk_image | img_url: '500x' }}"
                alt="{{ block.settings.perk_headline }}"
              >
            {% endif %}
          </figure>

          <h3
            class="rivo-perk-headline"
            style="color: {{ section.settings.headline_color }};"
          >
            {{ block.settings.perk_headline }}
          </h3>

          <p
            class="rivo-perk-text"
            style="color: {{ section.settings.text_color }};"
          >
            {{ block.settings.perk_text }}
          </p>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>

{% schema %}
{
  "name": "Rivo – Perks",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "section_heading",
      "label": "Section Heading",
      "default": "What’s In It For You"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Colour",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Heading Colour",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "headline_color",
      "label": "Card Headline Colour",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Card Text Colour",
      "default": "#323232"
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card Border Colour",
      "default": "#f6dacc"
    },
    {
      "type": "range",
      "id": "card_radius",
      "label": "Card Corner Radius (px)",
      "min": 0,
      "max": 24,
      "step": 2,
      "default": 12
    },
    {
      "type": "range",
      "id": "card_gap",
      "label": "Gap Between Cards (rem)",
      "min": 0.5,
      "max": 4,
      "step": 0.5,
      "default": 2.5
    }
  ],
  "blocks": [
    {
      "type": "perk_card",
      "name": "Perk Card",
      "settings": [
        {
          "type": "image_picker",
          "id": "perk_image",
          "label": "Perk Image"
        },
        {
          "type": "text",
          "id": "perk_headline",
          "label": "Headline",
          "default": "Free Skincare"
        },
        {
          "type": "textarea",
          "id": "perk_text",
          "label": "Description",
          "default": "And lots of it. Nab a free full-size product when you level up."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Rivo – Perks",
      "category": "Custom",
      "blocks": [
        {
          "type": "perk_card"
        },
        {
          "type": "perk_card",
          "settings": {
            "perk_headline": "Birthday Presents",
            "perk_text": "Score a Go-To voucher to ring in your birthday month right."
          }
        },
        {
          "type": "perk_card",
          "settings": {
            "perk_headline": "Top Shelf Treats",
            "perk_text": "New products! Secret sales! Limited-edition merch! You in?"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<style>
/* ---------- Generic layout ---------- */
  .rivo-content-wrapper {
    padding: 40px 0;
  }
.rivo-lp-content {
  width: 100%;
  max-width: 1200px;
  margin-inline: auto;
  padding: 20px;
  text-align: center;
  font-family: "Inter", system-ui, sans-serif;
}

.rivo-lp-section-title {
  font-size: clamp(1.8rem, 3vw + 1rem, 3rem);
  font-weight: 600;
  margin-bottom: 4rem;
}

/* ---------- Grid ---------- */
.rivo-perks-list {
  list-style: none;
  margin: 0;
  margin-top: 30px;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--gap);
}

/* ---------- Card ---------- */
.rivo-perk-card {
  background: #fff;
  border: 2px solid var(--border-col);
  flex: 1 1 280px;
  max-width: 380px;
  text-align: center;
  padding-bottom: 20px;
  transition: transform 0.35s ease, box-shadow 0.35s ease;
  overflow: clip;
  border-radius: 0;
}

/* ---------- Image ---------- */
.rivo-perk-img {
  margin: 0;
}

.rivo-perk-img img {
  display: block;
  width: 100%;
  height: auto;
  margin-top: -2px;
}

/* ---------- Text ---------- */
.rivo-perk-headline {
  padding: 0 30px;
  font-family: "TTCommons";
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 0;
}

.rivo-perk-text {
  padding: 0 30px;
  font-size: 20px;
  font-family: "TTCommons";
  line-height: 1.6;
  max-width: 32ch;
  margin-inline: auto;
  margin-top: 6px;
}

/* === SCROLLBARS === */
 .rivo-perks-list::-webkit-scrollbar {
  width: 10px;
  height: 8px;
}

 .rivo-perks-list::-webkit-scrollbar-track {
   overflow: clip;
  background: #fff;
  border: 2px solid #FBD5CB; 
  border-radius: 10px; 
  margin-right: 20px !important;
}

 .rivo-perks-list::-webkit-scrollbar-thumb {
  background: #F9C6B9;
   border-radius: 10px;
}

/* ---------- Responsive tweaks ---------- */
@media (max-width: 640px) {
    .rivo-content-wrapper {
    padding:  0;
  }
  .rivo-perks-list {
    flex-wrap: nowrap;
    justify-content: flex-start;
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    touch-action: pan-x;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    gap: 1.5rem;
    padding-bottom: 30px;
  }
  .rivo-lp-section-title {
    padding-right: 20px;
  }
  .rivo-perk-headline,
  .rivo-perk-text {
    font-size: 14px;
  }
  .rivo-lp-content {
    padding: 20px 0 30px 20px;
  }
  .rivo-perk-card {
    flex: 0 0 75%;
    max-width: 60%;
    scroll-snap-align: start;
  }
}
</style>
