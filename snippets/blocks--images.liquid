
{%- if block.type == "image" -%}

{%- if block.settings.link != blank -%}
<a href="{{ block.settings.link }}" class="flex-grid-item width-{{ block.settings.width }} width_mobile-{{ block.settings.width_mobile }} {% if block.settings.hide_desktop %}hide-desktop{% endif %} {% if block.settings.hide_mobile %}hide-mobile{% endif %}" {% if block.settings.reveal_on_scroll %}reveal-on-scroll{% endif %}>
{%- else -%}
<div class="flex-grid-item width-{{ block.settings.width }} width_mobile-{{ block.settings.width_mobile }} {% if block.settings.hide_desktop %}hide-desktop{% endif %} {% if block.settings.hide_mobile %}hide-mobile{% endif %}" {% if block.settings.reveal_on_scroll %}reveal-on-scroll{% endif %}>
{%- endif -%}

{%- capture class_attribute -%}{% if block.settings.mobile_image != blank %}hide-mobile{% endif %}{%- endcapture -%}
{%- capture sizes_attribute -%}(max-width: 999px) 100vw, 100vw{%- endcapture -%}

{%- if block.settings.reveal_on_scroll -%}
  {{ block.settings.image | image_url: width: block.settings.image.width | image_tag: loading: 'lazy', sizes: sizes_attribute, widths: '600,700,800,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000', reveal: true, class: class_attribute }}
{%- else -%}
  {{ block.settings.image | image_url: width: block.settings.image.width | image_tag: loading: 'lazy', sizes: sizes_attribute, widths: '600,700,800,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000', class: class_attribute }}
{%- endif -%}

{%- if block.settings.mobile_image != blank -%}
  {%- capture class_attribute -%}hide-desktop{%- endcapture -%}
  {%- capture sizes_attribute -%}(max-width: 999px) 100vw, 100vw{%- endcapture -%}

  {%- if block.settings.reveal_on_scroll -%}
    {{ block.settings.mobile_image | image_url: width: block.settings.mobile_image.width | image_tag: loading: 'lazy', sizes: '100vw', widths: '600,700,800,1000,1200,1400,1600,1800,2000,2200,2400', reveal: true, class: class_attribute }}
  {%- else -%}
    {{ block.settings.mobile_image | image_url: width: block.settings.mobile_image.width | image_tag: loading: 'lazy', sizes: '100vw', widths: '600,700,800,1000,1200,1400,1600,1800,2000,2200,2400', class: class_attribute }}
  {%- endif -%}
{%- endif -%}



{%- if block.settings.link != blank -%}
</a>
{%- else -%}
</div>
{%- endif -%}

{%- endif -%}