{%- assign glitterTemplateSettings = settings.show_glitter_on_template | split: "," -%}
{%- assign confettiTemplateSettings = settings.show_confetti_on_template | split: "," -%}

{%- capture templateName -%}{{ template.name }}.{{ template.suffix }}{%- endcapture -%}

{%- for glitterTemplate in glitterTemplateSettings -%}
  {%- if templateName == glitterTemplate -%}
    {%- assign showGlitter = true -%}
  {%- endif -%}
{%- endfor -%}

{%- for confettiTemplate in confettiTemplateSettings -%}
  {%- if templateName == confettiTemplate -%}
    {%- assign showConfetti = true -%}
  {%- endif -%}
{%- endfor -%}

{%- if settings.show_glitter and showGlitter == true -%}
  <script type="text/javascript" src="{{ 'glitter.js' | asset_url }}" defer></script>
{%- endif -%}

{%- if settings.show_confetti and showConfetti == true -%}
  <script type="text/javascript" src="{{- 'confetti.min.js' | asset_url -}}" defer></script>
  <script>window.confettiColors = [{{- settings.confetti_colors -}}];</script>
{%- endif -%}